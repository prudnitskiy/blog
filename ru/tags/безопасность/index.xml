<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Безопасность on Инфраструктурный блог</title><link>/ru/tags/%D0%B1%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C/</link><description>Инфраструктурный блог (Безопасность)</description><generator>Hugo -- gohugo.io</generator><language>ru-ru</language><lastBuildDate>Wed, 17 Sep 2014 16:08:23 +0000</lastBuildDate><atom:link href="/ru/tags/%D0%B1%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C/index.xml" rel="self" type="application/rss+xml"/><item><title>Коротко о безопасности в сети или краткое руководство для практикующих параноиков</title><link>/ru/post/2014-09-17-practical-paranoia/</link><pubDate>Wed, 17 Sep 2014 16:08:23 +0000</pubDate><guid>/ru/post/2014-09-17-practical-paranoia/</guid><description>&lt;p>Кто-то, возможно, не поверит, но написать эту статью я собирался довольно давно. Недавние события (утечка личных фотографий звезд и 7 миллионов почтовых паролей от google и yandex) не была поводом, но подтолкнула меня к перу. Безопасности в интернете (и вообще - в ИТ) обычный пользователь уделяет на диво мало внимания, не в пример безопасности физической. Кто-то не хочет ничего делать потому, что лень, кто-то считает, что ему “как честному человеку скрывать нечего” (да-да, я встречал такой лозунг неоднократно, особенно, когда вводили цензуру в интернете на территории 1/5 части суши).&lt;/p>
&lt;p>Некоторые (и довольно многие!) считают, что связаные с ИТ опасности эфемерны. Ну - украдут анкету во Вконтакте - зарегистрируюсь по-новой, думают они. Но. Подавляющее большинство пользователей не представляет, насколько чревато на самом деле халатное отношение к безопасности, как сильно и как больно это может ударить. Так, как я постоянно сталкиваюсь с неприятными последствиями подобных ситуаций - я и решил написать краткое введение. Ниже я расскажу, как много данных оставляет пользователь в мире, как эти данные могут быть использованы и что с этим всем можно сделать.&lt;/p>
&lt;h2 id="откуда-берутся-данные" >
&lt;div>
&lt;a href="#%d0%be%d1%82%d0%ba%d1%83%d0%b4%d0%b0-%d0%b1%d0%b5%d1%80%d1%83%d1%82%d1%81%d1%8f-%d0%b4%d0%b0%d0%bd%d0%bd%d1%8b%d0%b5">
#
&lt;/a>
Откуда берутся данные?
&lt;/div>
&lt;/h2>
&lt;p>Удивительный факт номер один - в интернете ‘очень’ много информации о пользователе. Удивительный факт номер два - по большей части информацию эту пользователи туда добавляют добровольно. Условно все данные о пользователе в интернете можно поделить на три группы:&lt;/p>
&lt;ul>
&lt;li>открытые - их пользователь добавляет сам (например - твиты или фоточки в фейсбучек). Эти данные доступны публично без специальных мер.&lt;/li>
&lt;li>скрытые - их исподволь собирают разные сервисы для личных нехороших целей (история поиска и координаты мест, откуда пользователь ходил в сеть, график работы в сети и скорость чтения страниц - имя им миллион). Сервисы очень ревностно оберегают эти данные - это их хлеб, а иногда - и икра.&lt;/li>
&lt;li>личные - этими данными пользователь не собирается делится вовсе. Например, сюда можно отнести почтовую переписку. Ну или фотографии, сделанные для себя-любимого (или предназначенные для одной-единственной пары глаз). В теории доступ к этим данным есть только у пользователя.&lt;/li>
&lt;/ul>
&lt;p>Удивительно, но факт - вытащить скрытные данные намного сложнее, чем личные. Личные данные пользователь защищает сам, а вот скрытные данные защищаются не хуже, чем Форт Нокс. Крупные порталы, такие, как google, yandex, facebook, mail.ru, MSN/HotMail/Bing знают о пользователе просто-таки невероятно много. Причина такого интереса проста, как мычание - это маркетинг. Начал эту войну Google - кому-то из руководства пришла в голову светлая мысль анализировать поисковые запросы пользователя, и показывать ему рекламу исходя из этих запросов. Если пользователь ищет что-то вроде “Лодка резиновая купить Москва” - показать ему объявление о продаже резиновой лодки выглядит вполне разумным. Чем сложнее и изощреннее персонализация, чем больше рекламная сеть знает о своем пользователе - тем более точные объявления она должна пользователю показывать - это выгодно, потому, что рекламная сеть получает деньги за клики пользователя, и каждое объявление, которое пользователь просмотрел, но кликать не стал - потенциальная потеря доходов. Следующим гвоздиком в гроб privacy стала персонализация самих поисковых запросов. Поисковик нужен для того, чтобы пользователь нашел то, что его интересует. Проблема в том, что поисковый сервис не знает (и не может знать), что именно ищет пользователь, когда пишет, скажем “Динамо”. Электромеханическую машину? Спортивный клуб “Динамо”? А может - практику нездоровых отношений? Или что-то еще? Чтобы вычленить нужные пользователю данные из безбрежного океана информации - поисковик должен учесть, что делал пользователь раньше. Чем больше данных он учтет - тем более точным будет ответ на вопрос пользователя. Это, кстати, порождает забавный эффект, известный как “пузырь фильтров”: пользователь своей активностью как-бы запирает себя в круге своих интересов. Если он начнет искать что-то выходящее из круга его обычных поисков - у него начнутся серьезные проблемы, ведь поисковая система будет считать, что ему это просто не нужно. Поисковики следят за пользователями не только на страницах поиска (что искал? на какую ссылку ушел? вернулся ли? сколько времени провел на странице?) но и на страницах сайтов тоже. Все основные поисковики имеют бесплатный модуль статистики и аналитики поведения пользователя. У Google это Google analytics, у Яндекс - Метрика. Скрипт метрики сидит на подавляющем большинстве сайтов и внимательные глаза Яндекса/Гугла/Майкрософт постоянно наблюдают за его поведением. Откуда пришел? Что делал? Куда кликал? Сколько потратил на страницу? Мало? Много? Часть этой информации аналитика покажет пользователю (то есть владельцу сайта, на котором стоит счетчик), но и для себя сохранит, понятное дело. За счет повсеместного распространения аналитики в сочетании с рекламными блоками (да, они тоже учитывают поведение пользователя) - поисковик знает о поведении пользователя буквально все. К слову, широко распространенные скидочные карты магазинов (они же программы лояльности) - из той же оперы. Карточка привязана к определенному человеку, и это делает жизнь этого человека практически прозрачной - магазин точно знает, что купил клиент, когда и на какую сумму.&lt;/p>
&lt;h2 id="кому-они-достаются" >
&lt;div>
&lt;a href="#%d0%ba%d0%be%d0%bc%d1%83-%d0%be%d0%bd%d0%b8-%d0%b4%d0%be%d1%81%d1%82%d0%b0%d1%8e%d1%82%d1%81%d1%8f">
#
&lt;/a>
Кому они достаются?
&lt;/div>
&lt;/h2>
&lt;p>Как я уже показал выше, информации в интернете о пользователе хранится очень много. Имея к этой информации доступ, можно составить практически полный портрет жизни пользователя, причем порой можно узнать о пользователе такое, чего он не знает о себе сам. Информация о поведении пользователя очень важна для поисковых систем (реклама), соцсетей (опять реклама), и особенно - магазинов (большая вероятность покупки означает большую прибыль). Сервисы очень тщательно оберегают скрытую информацию - это основа их конкурентного преимущества. Потеря массива информации о пользователе грозит миллиардными убытками. Но это, разумеется, не значит, что нет способа эту информацию использовать в своих нехороших целях.&lt;/p>
&lt;p>Открытую информацию могут (и будут) использовать в криминальных целях. Люди удивительно беспечны, и выдают в сеть уйму интересного. Возможно, тут играет роль субъективное понимание своей личной странички (твитера, вконтактика, google+) как персонального пространства, помеси кухонной посиделки с друзьями и дневника. Это ошибка. Нужно помнить о том, что:&lt;/p>
&lt;ul>
&lt;li>Информация, выложенная в интернет останется там, с очень большой долей вероятности, навсегда. Стереть информацию из сети полностью - невозможно.&lt;/li>
&lt;li>Информация, выложенная в интернет - рано или поздно станет доступна всем. Даже тем, кому она не предназначалась.&lt;/li>
&lt;/ul>
&lt;p>Нужно понимать, что фото с веселой попойки могут быть миной, заложенной под вашу карьеру (прецеденты были). А твит &amp;ldquo;уезжаем на две недели в Турцию&amp;rdquo; - готовым приглашением для вора-домушника (особенно, если геолокация не отключена и есть фотографии и твиты из квартиры).&lt;/p>
&lt;p>Разберемся, кому ваши данные могут потребоваться. Основных адресатов трое: криминал, бизнес и государство. Криминал по большей части &amp;ldquo;бомбит по площадям&amp;rdquo; - учетные данные (логины-пароли) закупаются и продаются миллионами, в первую очередь - для рассылки спама и вирусов. Точно так же покупаются и продаются номера кредитных карт (никогда не храните их на ПК! И в телефоне тоже не надо). В редких случаях личные данные используют для вымогательства - вирус шифрует все файлы пользователя и просит денег на расшифровку. Разумеется - делает это робот без вмешательства человека. В очень-очень редких случаях встречается работа на заказ, когда профессиональный взломщик работает против конкретного пользователя. Именно так было с Алексеем Навальным, именно так было с Дженифер Лоуренс. Причина, по которой копают на заказ может быть сложной, и защищаться от заказа тоже непросто (хотя вполне реально - создателя Bitcoin Сатоши Накамото безуспешно ищут уже пять лет, а создатель крупнейшей биржи криминального товара Ужасный Пират Робертсон попался совершенно случайно). Защита от заказной атаки дело непростое и явно выходит за рамки данного текста.&lt;/p>
&lt;p>Бизнес. Бизнес обожает пользовательские данные и собирает их везде, где может. Мог бы - в душу залез и в желудке бы устроился. Причину я уже описал выше - это маркетинг. Проанализировав покупки и поведение пользователя бизнес сможет предложить товар или услугу, которую пользователь, с большой долей вероятности, купит. Повышение конверсии (соотношение между затратами на рекламу и отдачей в виде покупки) - одно из важнейших занятий в бизнесе. Разумеется, такие умозрительные понятия, как неприкосновенность частной жизни бизнес волнует очень мало, прибыль интересует много больше. Если бы данные, накопленные бизнесами, жили внутри - это не было бы проблемой, но периодически эти данные утекают (хотя и очень редко, а для их использования нужна немалая квалификация, сделать это способны единицы). Опасность утечки подобных данных очевидна, как я уже упоминал выше - сервис может знать о клиенте просто-таки удивительно много и вдумчивый анализ данных покажет жизнь пользователя как на ладони. Государства стараются воевать с бизнесом, чтобы сохранить монополию на слежку, но это битва без конца и края - на стороне государства вся мощь репрессивного аппарата, но бизнес выигрывает за счет гибкости и скорости принятия решений.&lt;/p>
&lt;p>Государство. Сразу скажу, воевать с государством &lt;em>очень&lt;/em> сложно. В отношении отдельно взятого пользователя ресурсы государства можно принимать за неисчислимые. Кроме того, активное сокрытие данных может натолкнуть специальные службы на специальные мысли (винить их в этом бессмысленно - спецслужбы в этой ситуации ведут себя как собаки в экспериментах Павлова - есть раздражитель - будет реакция, если пользователь активно конспирируется - значит, он делает это не просто так). При этом нужно отделять государство как репрессивную машину в целом от ее отдельных представителей, которые от большого любопытства (или в корыстных интересах) начинают изучать жизнь пользователя. В принципе, государство имеет доступ к любому каналу связи, который относится к &amp;ldquo;изучаемому&amp;rdquo; пользователю - от кабеля в интернет до мобилки. Любой сервис, который официально работает в стране - должен предоставлять госорганам доступ к персональным данным, включая (но не ограничивая) переписку и список контактов. Если вы играете в Че Гевару - это нужно иметь ввиду. Разумеется, в теории все эти данные могут быть запрошены только на основании определенных документов (как минимум - должно быть возбуждено уголовное дело). Я не могу и не буду учить читателя криминальной активности (кто хочет - пусть сам и учится, на своих ошибках), но нужно понимать, что уголовное дело может быть заведено совершенно внезапно, и если в вашей жизни есть этот риск - к нему нужно быть готовым.&lt;/p>
&lt;p>Отдельной группкой сидит digital forensics team - это люди (чаще группы, чем одиночки), которые ищут конкретного человека и, как и реальные криминалисты, изучают цифровые следы этого человека в сети. По большей части DFT работает с публичными данными, анализируя особенности поведения. Цели работы таких команд могут быть самыми различными - от поиска проштрафившегося должника до политического убийства.&lt;/p>
&lt;h2 id="что-со-всем-этим-делать" >
&lt;div>
&lt;a href="#%d1%87%d1%82%d0%be-%d1%81%d0%be-%d0%b2%d1%81%d0%b5%d0%bc-%d1%8d%d1%82%d0%b8%d0%bc-%d0%b4%d0%b5%d0%bb%d0%b0%d1%82%d1%8c">
#
&lt;/a>
Что со всем этим делать?
&lt;/div>
&lt;/h2>
&lt;p>Итак, выше я обрисовал основные каналы утечки информации и их получателей, теперь попробуем придумать, что со всем этим делать и как бороться с гадами. Для начала очень важное замечание. Оно настолько важное, что я вынесу его отдельно:&lt;/p>
&lt;blockquote>
&lt;p>Слабость системы всегда равна слабости самого слабого звена&lt;/p>
&lt;/blockquote>
&lt;p>Что это значит для нас? Только то, что персональные данные должны быть одинаково хорошо защищены со всех сторон. Если вы поставили в квартиру крутую стальную дверь из танковой брони - вы не сделали дом неуязвимым - вам могут эту дверь вынести со всей коробкой (обычно ставят домкрат в лестничный пролет - промышленный домкрат выдает 50 тонн, и дверь вылетает, как пробка. Так вот, о чем это я?). Или вынесут стену. Или разберут потолок. Потому - защита не должна иметь явных белых пятен. Стратегия защиты в идеале должна выглядеть, как забор - одинаково высокая по всей длинне. Далее - нужно определится со степенью конспирации. В целом в работе с инструментами безопасности прослеживается простая закономерность - безопасность обратно пропорциональна удобству. Если вы хотите построить очень защищенную систему - это вполне реально, но это будет &lt;em>очень&lt;/em> неудобно (и дорого). Недоубный инструмент провоцирует на то, чтобы от него отказаться. Чем более инструмент неудобен - тем меньше он, статистически, у вас проживет. Большая часть шагов, которую я опишу ниже - это разумные предосторожности, и если за вами гоняется Ми-6 - вам они не помогут. Но от глупых неприятностей, надеюсь, уберегут.&lt;/p>
&lt;p>Рекомендация или правило номер два - в вопросах безопасности нельзя доверять никому и ни в чем. Что бы кто бы вам не обещал - ваши данные должны быть только вашими. Если вам прислали подозрительный файл - не открывайте (он может быть “заряжен” вирусом). Подозрительная ссылка - не ходите. Любой объект, который размещен в сети - принадлежит не тому, кто его разместил, а тому, кто владеет площадкой, где он лежит.&lt;/p>
&lt;p>Теперь по пунктам.&lt;/p>
&lt;h3 id="учетные-данные" >
&lt;div>
&lt;a href="#%d1%83%d1%87%d0%b5%d1%82%d0%bd%d1%8b%d0%b5-%d0%b4%d0%b0%d0%bd%d0%bd%d1%8b%d0%b5">
##
&lt;/a>
Учетные данные
&lt;/div>
&lt;/h3>
&lt;p>Их надо беречь. Самое уязвимое место - e-mail. Большая часть онлайн-сервисов сейчас использует при регистрации именно e-mail, получив к нему доступ, злоумышленник получит доступ разом ко всем сервисам, на которых вы с данного ящика регистрировались. В ящике не должно быть паролей (вообще, их нужно удалять сразу после получения письма) а так же - регистрационных писем и рассылок от владельцев сервиса. Разумеется, на ящике должен стоять сложный пароль (длинный, не словарное слово, не связан с вами ни в каком виде). К ящику нужно обязательно привязать номер телефона, причем номер должен быть зарегистрирован именно на вас (иначе вы не сможете получить симку, если потеряете ее, а без симки не сможете вернуть себе доступ). Если почтовый ящик позволяет - используйте двухфакторную авторизацию (пароль + смс), практически все крупные провайдеры умеют это. Вообще, специалисты рекомендуют иметь несколько ящиков. Для регистраций использовать ящик нечитаемого вида (&lt;a href="mailto:D6AkY2fQvy978f24@ya.ru">D6AkY2fQvy978f24@ya.ru&lt;/a>), который никогда не светится в переписке. Ящик, который используется для контактов с реальными людьми - не использовать для регистраций на критичных сервисах. Пароли от ящиков рекомендуется периодически менять (скажем - раз в год). Помните о том, что все письма в вашем почтовом ящике доступны как минимум сотрудникам почтового сервиса. Если у вас есть письмо, которое относится к категории &amp;ldquo;это не телефонный разговор&amp;rdquo; - оно должно быть зашифровано до отправки по почте. Любые ваши данные, размещенные на любом сервере в интернете, вам уже не принадлежат, они принадлежат серверу! Помните о том, что никакой сервис не будет у вас требовать пароль от вашей учетной записи - техническая поддержка всегда может работать без него. Также рекомендуется обращать внимание не только на внешний вид страницы входа, но и на адрес сервиса в адресной строке. В этом сильно помогает HTTPS - если ваш сервис его использует, рекомендую не лениться, а кликнуть на буквы https и прочитать информацию о сертификате, как минимум - кому он выдан, кем, и до какого момента действителен.&lt;/p>
&lt;p>&lt;img src="https://prudnitskiy.pro/media/uploads/ssl.png" alt="HTTPS">&lt;/p>
&lt;h3 id="поведение-в-сети" >
&lt;div>
&lt;a href="#%d0%bf%d0%be%d0%b2%d0%b5%d0%b4%d0%b5%d0%bd%d0%b8%d0%b5-%d0%b2-%d1%81%d0%b5%d1%82%d0%b8">
##
&lt;/a>
Поведение в сети
&lt;/div>
&lt;/h3>
&lt;p>Как я уже говорил выше, все, что вы размещаете в сети - рано или поздно станет доступно всем и останется в сети навсегда. Прежде, чем что-то размещать - спросите себя, уверенны ли вы в том, что хотите этого. По возможности, нужно размещать в сети как можно меньше информации, особенно - оперативно. Понятия &amp;ldquo;приватный фотоальбом&amp;rdquo; в сети нет, удалить данные невозможно (все фотографии вконтакте до сих пор доступны любому по прямой ссылке. Да, все фотографии за всю историю вконтакте). Чем тушить потом пожар информационного скандала - проще сейчас затушить спичку и не размещать в сети что-то такое, о чем вы можете потом пожалеть. Если вам действительно нужно выложить какую-то потенциально опасную для вас информацию - перед выкладкой ее нужно обязательно зашифровать, а ключ переправить получателю отдельно. В целом я очень рекомендую точно дозировать информацию, которой вы делитесь в сети и не публиковать больше, чем того требует элементарная сетевая вежливость. При этом я не рекомендую сворачивать активность в социальной сети до нуля - это может натолкнуть на подозрение, что пользователь шифруется и вызовет повышенное внимание у злоумышленника.&lt;/p>
&lt;h3 id="слежение-за-поведением-пользователя" >
&lt;div>
&lt;a href="#%d1%81%d0%bb%d0%b5%d0%b6%d0%b5%d0%bd%d0%b8%d0%b5-%d0%b7%d0%b0-%d0%bf%d0%be%d0%b2%d0%b5%d0%b4%d0%b5%d0%bd%d0%b8%d0%b5%d0%bc-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d1%8f">
##
&lt;/a>
Слежение за поведением пользователя
&lt;/div>
&lt;/h3>
&lt;p>Поисковые (и вообще - таргетинговые) системы обожают слежку за пользователем. Несмотря на то, что законы прямо запрещают компаниям хранить приватные данные в не-обезличенном виде, компании постоянно ищут способ этот запрет обойти. Кроме того, лично у меня нет доверия к компаниям, которые следят за поведением пользователей, потому, что я, как пользователь, не могу проконтролировать эти данные. Традиционный способ слежения - использование javascript на страницах в интернет. Слежкой традиционно занимаются различные системы аналитики (Google Analytics, Yandex.Метрика, Bing Webmaster toolkit, NewRelic), а так же - счетчики (Alexa, LiveInternet, Топ Mail.ru). Для идентификции пользователя сервис выставляет cookie (обычно - несколько разных, прячет в разные места), а при каждом заходе на каждую страницу сайта - проверяет ее наличие. Простой способ борьбы - использовать расширение Ghostery (есть в редакциях под Mozilla Firefox и Google Chrome/Chromium). Так же частичную блокировку обеспечивает расширение AdBlock (а еще лучше - сочетать эти два способа борьбы). Способ более сложный (и надежный) - использование Incognito-режима в браузере. В этом случае все данные, которые использует браузер в работе будут стерты при закрытии браузера.&lt;/p>
&lt;p>&lt;img src="https://prudnitskiy.pro/media/uploads/forbes.png" alt="Forbes">&lt;/p>
&lt;p>Мой любимый пример - сайт российского издания Forbes. 11 следящих модулей (Ghostery - справа) и 26 рекламных модулей (которые тоже могут следить за пользователем).&lt;/p>
&lt;h3 id="общение-в-сети-почта-im" >
&lt;div>
&lt;a href="#%d0%be%d0%b1%d1%89%d0%b5%d0%bd%d0%b8%d0%b5-%d0%b2-%d1%81%d0%b5%d1%82%d0%b8-%d0%bf%d0%be%d1%87%d1%82%d0%b0-im">
##
&lt;/a>
Общение в сети. Почта, IM
&lt;/div>
&lt;/h3>
&lt;p>Простое правило всех безопасников - не доверять никому - действует и тут. Нужно помнить о том, что доступ к вашей переписке есть у сотрудника компании, которая предоставляет вам сервис. За злоупотребление данной привилегией сотрудников карают, но злоупотребления происходят с завидной периодичностью. Также этот доступ может (и будет) предоставлен компетентным органам. Опять повторю рекомендацию, которую я приводил выше - почтовый ящик - это очень важная часть цифровой личности. Обычно, имея доступ к почтовому ящику, нет никакой проблемы перехватить сервисы, которые к этому ящику привязаны, по этому строго рекомендуется иметь несколько почтовых ящиков (как минимум - два), и не использовать для регистрации в сервисах ящик, который служит для общения (и наоборот). Все, что может указать на связь ящика с сервисами (письма с паролями и ссылками на активацию, рассылки с новостями) рекомендуется удалять сразу после прочтения. Если у вас есть письма, содержащие важные или потенциально опасные сведения - эти письма должны хранится только в зашифрованном виде или не храните их вообще. Для шифрования можно использовать, например, GPG - есть редакции по Windows, Mac и Linux. К слову об удалении писем - не забывайте чистить корзину.&lt;/p>
&lt;p>Мессенджер менее опасен, чем почта, но у него есть существенное, для атакующего, преимущество - пользователь использует его значительно активнее. Общие рекомендации похожи на почтовые - не пишите то, о чем можете пожалеть. Если вам надо что-то такое написать - используйте, как минимум, end-to-end шифрование, большая часть современных клиентов (таких, как AdiumX для Mac, Kopete под Linux или MirandaIM под Windows) имеют соответствующие расширения и настройки. Если есть возможность - используйте открытые пиринговые системы обмена сообщениями, такие, как &lt;a href="https://tox.im">Tox&lt;/a> или BitMessage - собеседника в такой системе отследить почти невозможно. В плане безопасности наихудшим образом проявил себя Skype - никто не знает, как он устроен и чем в системе занимается, модулей шифрования в нем нет, открытых клиентов (к которому можно прикрутить модуль шифрования) - тоже нет. При этом skype принадлежит компании майкрософт, которая обязана сотрудничать с органами власти и предоставлять им пользовательские данные по запросу. Не забывайте о том, что мессендежры хранят историю и на пользовательской машине тоже. Историю, скажем, скайпа прочитать непросто, но при необходимости, можно.&lt;/p>
&lt;p>Помните о том, что любой ваш друг, коллега или родственник может лишится своего IM из-за взлома в любой момент. Не открывайте странные файлы, которые вам присылают (вирусы бывают не только в исполняемых файлах и не только на windows). Не ходите по неизвестным ссылкам. Если у вас есть подозрения, что человека взолмали - свяжитесь с ним по альтернативному каналу связи.&lt;/p>
&lt;h3 id="личный-компьютер-пользователя" >
&lt;div>
&lt;a href="#%d0%bb%d0%b8%d1%87%d0%bd%d1%8b%d0%b9-%d0%ba%d0%be%d0%bc%d0%bf%d1%8c%d1%8e%d1%82%d0%b5%d1%80-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d1%8f">
##
&lt;/a>
Личный компьютер пользователя
&lt;/div>
&lt;/h3>
&lt;p>Заражение личной машины - самый сложный и опасный случай. Зараженная (или украденная) машина разом компрометирует все пароли, которые на ней есть и все данные, которые в момент заражения были доступны пользователю. Рекомендации традиционные, но я все же повторю их:&lt;/p>
&lt;ul>
&lt;li>Обновляйте систему. Делайте это своевременно.&lt;/li>
&lt;li>Обновлйте ПО, которое вы используете. Софт должен обновляться из доверенных источников (бывают фальшивые обновления).&lt;/li>
&lt;li>Если у вас windows - найдите и поставьте хороший антивирус. Его тоже обновляйте почаще.&lt;/li>
&lt;li>Обращайте внимание на поведение машины. Если машина внезапно “тупит” без явного повода, активно хрустит жестким диском или грузит сеть - это может быть признаком заражения. Резервная копия и загрузочный диск с антивирусом (бесплатные варианты есть у Dr.Web и Kaspersky antivirus) - ваши друзья на ближайшие несколько часов.&lt;/li>
&lt;li>Возьмите за традицию раз в определенное время (скажем, раз в год) проверять компьютер антивирусом, загрузив его с CD. Некоторые вирусы настолько качественно встраиваются в систему, что антивирус не может перехватить их выполнение и вылечить систему (или хотя бы обнаружить вирусную активность).&lt;/li>
&lt;li>Если у вас старая windows (XP, 2000, Vista) - не работайте из-под администратора. Для новых версий это уже не столь актуально - UAC перехватывает потенциально опасные действия.&lt;/li>
&lt;li>В любом случае у вас должен быть пароль. Длинный и сложный (PCI рекомендует не менее 8 символов, большие и маленькие буквы, цифры и спецсимволы)&lt;/li>
&lt;li>Шифруйте данные. Представьте, что ваш компьютер украли. Что увидит человек, имеющий полный доступ к диску? Есть ли там что-то, чего он увидеть не должен? Шифруйте. Для шифрования рекомендую использовать программу TrueCrypt, ее надежность и качество доказаны многократными проверками экспертов. Важно, не используйте версию 7.2, так как есть подозрение, что именно в версии 7.2 контроль над TrueCrypt был перехвачен злоумышленниками.&lt;/li>
&lt;li>При шифровании данных не используйте средства, предоставляемые самой операционной системой (BitLocker для Microsoft и FileVault для MacOS X). Эти системы имеют процедуру сброса пароля, а следовательно - они ненадежны. В по-настоящему надежной системе шифрования потеря ключа лишит вас доступа к данным без каких-либо шансов на восстановление доступа. Если система шифрования позволяет получить доступ к вашим данным без вашего ключа - она не может считаться надежной.&lt;/li>
&lt;li>Сменные носители тоже шифруйте. Флешки постоянно теряются, периодически доходит до маразма (например, один раз в канадском ломбарде всплыл ноутбук со сверхсекретным чертежами подводных лодок. Владельцы ломбарда получили немалый заряд позитива и несколько седых волос).&lt;/li>
&lt;li>Не стоит хранить на своей машине пароли. Если пароли не хранить не удается никак, то хотя бы шифруйте их - для этого есть специальные системы управления паролями, например KeyPass&lt;/li>
&lt;/ul>
&lt;h3 id="мобильные-устройства" >
&lt;div>
&lt;a href="#%d0%bc%d0%be%d0%b1%d0%b8%d0%bb%d1%8c%d0%bd%d1%8b%d0%b5-%d1%83%d1%81%d1%82%d1%80%d0%be%d0%b9%d1%81%d1%82%d0%b2%d0%b0">
##
&lt;/a>
Мобильные устройства
&lt;/div>
&lt;/h3>
&lt;p>Заражения мобильных бывают сравнительно редко, но приятного в этом мало. Если вы не воюете с государством или профессиональными хакерами, список рекомендаций будет очень небольшим:&lt;/p>
&lt;ul>
&lt;li>Устанавливайте приложения только из доверенных источников. Подавляющее большинство вирусов является именно полноценными приложениями.&lt;/li>
&lt;li>Если у вас Android - читайте, какие права запрашивает приложение для работы. Слишком высокие права должны вас насторожить.&lt;/li>
&lt;li>Отключайте WiFi и BlueTooth на устройстве, если вы его не используете. Заражение через сеть - редкость, но встречается.&lt;/li>
&lt;li>Обновляйте систему и ПО. Мобильный - тот же компьютер, только маленький. Софт для мобильного тоже подвержен ошибкам.&lt;/li>
&lt;li>Храните на мобильном минимум информации. Потому, что зашифровать данные на мобильном очень, очень сложно, а украсть мобильный физически проще, чем полноценный компьютер.&lt;/li>
&lt;li>Используйте программы удаленного управления устройством (Find my iPhone, Stolen/Hidden, HawkEye). Если телефон стащат - вы сможете хотя бы стереть с него критически важные данные.&lt;/li>
&lt;/ul>
&lt;h2 id="заключение" >
&lt;div>
&lt;a href="#%d0%b7%d0%b0%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5">
#
&lt;/a>
Заключение
&lt;/div>
&lt;/h2>
&lt;p>Краткое руководство для практикующих параноиков получилось не таким уж и кратким, хотя я и жал его, как мог. Паранойя - дело сложное и затратное, как по времени, так и по количеству усилий. С другой стороны - интернет такая недобрая песочница, где пользователя всякий обидеть норовит. Минимальная грамотность в вопросах безопасности в этом плане подобна мечу из японской поговорки про самурая - даже, если воспользоваться им прийдется один раз в жизни, носить его при себе стоит постоянно. Надеюсь моя статья предоставит вам хоть немного полезной информации - это будет значить, что мой труд был не лишним.&lt;/p></description></item><item><title>Шифрование дисков через EFS в Linux</title><link>/ru/post/2011-06-20-efs-disc-encryption/</link><pubDate>Mon, 20 Jun 2011 07:20:36 +0000</pubDate><guid>/ru/post/2011-06-20-efs-disc-encryption/</guid><description>&lt;p>Linux в целом - достаточно защищенная система. При условии сложных паролей и своевременных обновлений (а также - нормального firewall-а) сломать его с целью получения данных достаточно трудно. Однако в случае физического доступа к машине достаточно просто загрузится с другого диска (например, с диска Slax) &amp;ndash; и с файловой системой можно делать все, что угодно. Дабы противостоять такой атаке &amp;ndash; придумана шифрованая файлсистема. В данной статье пошагово описано создание шифрованой файлсистемы (шифр - AES128) на &lt;em>отдельном разделе диска&lt;/em>, авторизация по паролю (keyword). Статья писалась под Xubuntu linux (Debian), хотя в принципе для других версий Linux принципиальных различий не будет.&lt;/p>
&lt;h2 id="как-это-работает" >
&lt;div>
&lt;a href="#%d0%ba%d0%b0%d0%ba-%d1%8d%d1%82%d0%be-%d1%80%d0%b0%d0%b1%d0%be%d1%82%d0%b0%d0%b5%d1%82">
#
&lt;/a>
как это работает?
&lt;/div>
&lt;/h2>
&lt;p>В отличае от windows (XP/2003) Linux использует ту же файловую систему, что и обычно, но с &amp;ldquo;промежуточным звеном&amp;rdquo;.
Создание шифрованого раздела идет в два этапа - сначала нужно создать &amp;ldquo;промежуточное звено&amp;rdquo; (оно называется CryptoLoop), а затем сквозь эту петлю отформатировать диск. Дальнейшее обращение к диску идет через петлю, которая все по дороге зашифровывает (или наоборот - расшифровывает). Если не создать петлю (для каждого диска она своя, для подключения к петле нужно либо знать пароль - либо иметь сертификат) &amp;ndash; данные с диска прочитать не получится, они превратятся в высокоэнтропийную кашу. В данной статье пошагово описано создание шифрованой файлсистемы (шифр - AES128), авторизация по паролю (keyword). Статья писалась под Xubuntu linux (Debian), хотя в принципе для других версий Linux принципиальных различий не будет. &lt;em>ВАЖНО! При создании петли диск надо форматировать, все данные на нем будут потеряны. ОБЯЗАТЕЛЬНО запишите где-нибудь пароль от диска (или сделайте резервную копию сертификата, если используется он). Если вы забудете/посеете ключ - диск уже не расшифруете никогда, AES128 - очень надежный шифровальный стандарт. И данные с него будут потеряны безвозвратно&lt;/em>&lt;/p>
&lt;h2 id="начали" >
&lt;div>
&lt;a href="#%d0%bd%d0%b0%d1%87%d0%b0%d0%bb%d0%b8">
#
&lt;/a>
Начали!
&lt;/div>
&lt;/h2>
&lt;p>Для начала проверим, есть ли у нас необходимые модули:&lt;/p>
&lt;pre>&lt;code>/sbin/modinfo /lib/modules/`uname -r`/kernel/crypto/*
filename: /lib/modules/2.6.20-16-generic/kernel/crypto/aes.ko
license: Dual BSD/GPL description: Rijndael (AES) Cipher Algorithm
srcversion: 8CB82B3A254D5A950FD0D14 depends:
vermagic: 2.6.20-16-generic SMP mod_unload 586
filename: /lib/modules/2.6.20-16-generic/kernel/crypto/anubis.ko
description: Anubis Cryptographic Algorithm
license: GPL
srcversion: F88E14F122B9D232FFF5811
depends:
vermagic: 2.6.20-16-generic SMP mod_unload 586
filename: /lib/modules/2.6.20-16-generic/kernel/crypto/arc4.ko
author: Jon Oberheide
&lt;/code>&lt;/pre>
&lt;p>Отлично, модули есть. Если у вас их нет &amp;ndash; придется пересобирать ядро. Нужны как минимум aes, dm_mod и dm_crypt Теперь указываем, какие модули по умолчанию будут грузится. Делать это надо от рута:&lt;/p>
&lt;pre>&lt;code>echo aes &amp;gt;&amp;gt; /etc/modules
echo dm_mod &amp;gt;&amp;gt; /etc/modules
echo dm_crypt &amp;gt;&amp;gt; /etc/modules
&lt;/code>&lt;/pre>
&lt;p>Перезагружаемся и смотрим:&lt;/p>
&lt;pre>&lt;code>lsmod |grep aes
aes 28608 0
lsmod |grep dm_mod
dm_mod 59084 1 dm_crypt
lsmod |grep dm_crypt
dm_crypt 14856 0
&lt;/code>&lt;/pre>
&lt;p>Модули есть, начинаем создавать петлю. В данном примере я создам петлю на диск /dev/sda7. Вам, соответственно, нужно создавать петлю на свой раздел. Помните о том, что после первого же обращения на диск через петлю он становится &lt;i>нечитаемым&lt;/i> вне петли. И все, что на нем было - исчезнет.
Для начала - отмонтируем диск. Все действия ведем от рута:&lt;/p>
&lt;pre>&lt;code>umount -f /dev/sda7
&lt;/code>&lt;/pre>
&lt;p>Для создания устройства cryptoloop нам нужна специальная утилита под названием cryptsetup
устанавливаем:&lt;/p>
&lt;pre>&lt;code>apt-get install cryptsetup
&lt;/code>&lt;/pre>
&lt;p>Теперь создадим спецустройство CryptoLoop:&lt;/p>
&lt;pre>&lt;code>cryptsetup --verbose --verify-passphrase create cryptohd /dev/sda7
&lt;/code>&lt;/pre>
&lt;p>Подробно о том, что тут написано:&lt;/p>
&lt;ul>
&lt;li>&amp;ndash;verbose &amp;ndash; показать процесс создания по возможности подробно&lt;/li>
&lt;li>&amp;ndash;verify-passphrase &amp;ndash; использовать пароль (а не ключ или сертификат)&lt;/li>
&lt;li>create &amp;ndash; создать новое криптоустройство. подробнее будет рассказано ниже&lt;/li>
&lt;li>cryptohd &amp;ndash; название криптопетли. Оно может состоять из букв и цифр. Нужно для того, чтобы определить название именно шифрованое имя диска.В пределах одной системы должно быть уникальным.&lt;/li>
&lt;li>/dev/sda7 &amp;ndash; название устройства, на которое будет привязана криптопетля. Данные на нем станут шифроваными.&lt;/li>
&lt;/ul>
&lt;p>Выполняем команду и вводим пароль. Именно этот пароль шифрует данные, не потеряйте его!&lt;/p>
&lt;pre>&lt;code>cryptsetup --verbose --verify-passphrase create cryptohd /dev/sda7
Enter passphrase:
Repeat passphrase:
&lt;/code>&lt;/pre>
&lt;p>Замечу, что по хорошей традиции UNIX-мира, ввод пароля никак не отображается. Смотрим, как там наша петля:&lt;/p>
&lt;pre>&lt;code>cryptsetup status cryptohd
/dev/.static/dev/mapper/cryptohd is active:
cipher: aes-cbc-plain
keysize: 256 bits
device: /dev/sda7
offset: 0
sectors size: 2008062 sectors
mode: read/write
&lt;/code>&lt;/pre>
&lt;p>Отлично, петля есть Форматируем диск:&lt;/p>
&lt;pre>&lt;code>mkfs.reiserfs /dev/mapper/cryptohd
&lt;/code>&lt;/pre>
&lt;p>И монтируем диск:&lt;/p>
&lt;pre>&lt;code>mount /dev/mapper/cryptohd /cryptohd
&lt;/code>&lt;/pre>
&lt;p>Не забудьте создать папку, куда будете монтировать диск:&lt;/p>
&lt;pre>&lt;code>mkdir /cryptohd
&lt;/code>&lt;/pre>
&lt;p>смотрим, что получилось:&lt;/p>
&lt;pre>&lt;code>mount
/dev/mapper/cryptohd /cryptohd
&lt;/code>&lt;/pre>
&lt;p>Теперь можно обращаться к диску и работать с ним. Отвязывается он, в общем, несложно. Сначала его отмонтируем, а затем &amp;ndash; разрушим криптопетлю:&lt;/p>
&lt;pre>&lt;code>umount -f /dev/mapper/cryptohd
cryptsetup remove cryptohd
&lt;/code>&lt;/pre>
&lt;p>смотрим на информацию о петле:&lt;/p>
&lt;pre>&lt;code>cryptsetup status cryptohd
/dev/mapper/.static/cryptohd is inactive
&lt;/code>&lt;/pre>
&lt;p>все, диск уже нечитаем, до момента создания криптопетли он бесполезен:&lt;/p>
&lt;pre>&lt;code>mount /dev/sda7 mount: filesystem is invalid or not known
&lt;/code>&lt;/pre>
&lt;p>Чтобы его прочитать, создаем петлю:&lt;/p>
&lt;pre>&lt;code>cryptsetup create cryptohd /dev/sda7
Enter passphrase:
&lt;/code>&lt;/pre>
&lt;p>И монтируем диск:&lt;/p>
&lt;pre>&lt;code>mount /dev/mapper/cryptohd /cryptohd
&lt;/code>&lt;/pre>
&lt;p>теперь файловая система вновь доступна&lt;/p></description></item><item><title>Авторизация в OpenSSH с использованием публичного ключа</title><link>/ru/post/2005-01-14-openssh-key-auth/</link><pubDate>Fri, 14 Jan 2005 08:35:00 +0000</pubDate><guid>/ru/post/2005-01-14-openssh-key-auth/</guid><description>&lt;p>OpenSSHd имеет очень немалое количество механизмов аутентификации, которые в принципе базируются на двух парадигмах - симметричного ключа (пароль) и несимметричного (сертификат). Разница в этих парадигмах довольно незамысловата: в случае использования симметричного ключа копию этого ключа надо хранить на сервере, чтобы при авторизации сравнить хранимое значение со значением, отправленным пользователем. В случае, если значения одинаковы - пароль считается верным и пользователя авторизуют, если значения разные - то нет. Минус пароля в том, что его можно перехватить, после чего пользоваться им без ограничений. Идея сертификата (несимметричного ключа) - более свежая. Она создавалась позже системы на базе пароля и учитывает вышеуказанную уязвимость. Работает эта система на базе двух связанных между собой ключей - открытого и закрытого. Используя открытый ключ, можно зашифровать сообщение, но расшифровать его - нельзя. Расшифровать сообщение можно только закрытым ключом. При этом имея закрытый ключ - можно создать открытый, однако имея открытый - нельзя восстановить закрытый. Кроме того, закрытым ключом можно не только зашифровать, но подписать сообщение - добавить к нему некоторое значение, которое однозначно идентифицирует сообщение. Подписаное сообщение нельзя изменить, при изменении подпись нарушается. При этом, имея открытый ключ можно совершенно однозначно идентифицировать, что подписано сообщение было совершенно определенным закрытым ключом. Но восстановить закрытый ключ или подписать открытым ключом сообщение - снова нельзя. Надеюсь, я не слишком сильно усложнил статью этим кратким экскурсом в практическую криптографию :) Итак, поехали, только практика и ничего кроме практики&lt;/p>
&lt;h2 id="сервер-и-клиент" >
&lt;div>
&lt;a href="#%d1%81%d0%b5%d1%80%d0%b2%d0%b5%d1%80-%d0%b8-%d0%ba%d0%bb%d0%b8%d0%b5%d0%bd%d1%82">
#
&lt;/a>
Сервер и клиент
&lt;/div>
&lt;/h2>
&lt;p>Для нормально авторизации по ключу нужно: создать пару закрытый-открытый ключ на клиенте скопировать открытый ключ на сервер Авторизация сработает только в том случае, если она разрешена на сервере, по умолчанию она разрешена. Для начала надо создать папку для ключей на клиенте и поставить там нормальные права:&lt;/p>
&lt;pre>&lt;code>client$ mkdir ~/.ssh
client$ chmod 700 ~/.ssh
&lt;/code>&lt;/pre>
&lt;p>Теперь создадим ключи:&lt;/p>
&lt;pre>&lt;code>client$ ssh-keygen -q -f ~/.ssh/id_rsa -t rsa
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
&lt;/code>&lt;/pre>
&lt;p>Passphrase - пароль, которым будет зашифровано содержимое ключа. Можно пароль не вводить, тогда для авторизации вообще не нужно будет ничего вводить, что удобно для роботов-скриптов. На всякий случай - поправим права доступа на ключи:&lt;/p>
&lt;pre>&lt;code>client$ chmod go-w ~/
client$ chmod 700 ~/.ssh
client$ chmod go-rwx ~/.ssh/*
&lt;/code>&lt;/pre>
&lt;p>Теперь отправим ключ на сервер:&lt;/p>
&lt;pre>&lt;code>client$ scp ~/.ssh/id_rsa.pub user@server.local.dom:~
&lt;/code>&lt;/pre>
&lt;p>и там его положим в правильное место:&lt;/p>
&lt;pre>&lt;code>server$ mkdir ~/.ssh
server$ chmod 700 ~/.ssh
server$ cat ~/id_rsa.pub &amp;gt;&amp;gt; ~/.ssh/authorized_keys
server$ chmod 600 ~/.ssh/authorized_keys
server$ rm ~/id_rsa.pub
&lt;/code>&lt;/pre>
&lt;p>И проверим, что получилось:&lt;/p>
&lt;pre>&lt;code>client$ ssh -o PreferredAuthentications=publickey server.local.dom
Enter passphrase for key '~/.ssh/id_rsa':
server$
&lt;/code>&lt;/pre>
&lt;h2 id="если-что-то-пошло-не-так" >
&lt;div>
&lt;a href="#%d0%b5%d1%81%d0%bb%d0%b8-%d1%87%d1%82%d0%be-%d1%82%d0%be-%d0%bf%d0%be%d1%88%d0%bb%d0%be-%d0%bd%d0%b5-%d1%82%d0%b0%d0%ba">
#
&lt;/a>
Если что-то пошло не так
&lt;/div>
&lt;/h2>
&lt;p>Основное место, где отображаются ошибки SSH-сервера - /var/log/auth.log. Основная проблема - неправильные права доступа к ключу SSH (сервер не даст авторизации на ключ со слишком низким уровнем безопасности).&lt;/p></description></item></channel></rss>